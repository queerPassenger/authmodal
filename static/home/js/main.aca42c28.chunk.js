(this["webpackJsonpauthmodal-ui"]=this["webpackJsonpauthmodal-ui"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),i=n(8),o=n.n(i),s=(n(16),n(3)),l=n.n(s),u=n(5),d=n(2),h=function(e){e&&(window.location.href=e)},f=function(e,t,n){e&&t.unshift(e);var c=function(e){for(var t="object"!=typeof e?JSON.parse(e):e,n="",c=0;c<t.length;c++){var r="";for(var a in t[c])""!=r&&(r+=","),r+=t[c][a];n+=r+"\r\n"}return n}(JSON.stringify(t)),r=n+".csv"||!1,a=new Blob([c],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(a,r);else{var i=document.createElement("a");if(void 0!==i.download){var o=URL.createObjectURL(a);i.setAttribute("href",o),i.setAttribute("download",r),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}},j=function(e){return Object(c.jsx)("header",{children:Object(c.jsxs)("div",{className:"header-container",children:[Object(c.jsxs)("div",{className:"logo",onClick:function(){},children:[Object(c.jsx)("img",{src:"https://avatars2.githubusercontent.com/u/29197735?s=400&u=ef6c2f39d34e624bd215f5f4afc5d35ae385db9c&v=4",alt:"logo"}),Object(c.jsxs)("div",{className:"logo-txt",children:[Object(c.jsx)("div",{children:"QueerPassenger"}),Object(c.jsx)("div",{children:"initiative"})]})]}),e.auth&&Object(c.jsxs)("div",{className:"right-menu",children:[Object(c.jsx)("div",{className:"logout",children:Object(c.jsx)("div",{onClick:function(){fetch("/logout").then(function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=4;break}h("/signin"),e.next=14;break;case 4:return e.prev=4,e.next=7,t.json();case 7:n=e.sent,alert(n.msg?n.msg:"Something went wrong"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),alert("Something went wrong");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert("Something went wrong")}))},children:"Logout"})}),Object(c.jsx)("div",{className:"user",children:e.user.username})]})]})})},b=n(10),m=function(e){var t=e.rows,n=e.columns,a=Object(r.useRef)(),i=Object(r.useRef)(),o=Object(r.useRef)(),s=Object(r.useState)({cellWidth:100,cellHeight:50,gridWidth:0,gridHeight:0,scrollbarWidth:0}),l=Object(d.a)(s,2),u=l[0],h=l[1],f=u.cellWidth*n.length;Object(r.useEffect)((function(){!function(){var e=a.current,t=e.offsetWidth,c=e.offsetHeight,r=Object(b.a)({},u);t>u.cellWidth*n.length&&(r.cellWidth=Math.floor(t/n.length)),r.gridWidth=t,r.gridHeight=c,r.scrollbarWidth=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n}(),h(r)}()}),[]);var j=function(e){var t=e.target,n=t.scrollLeft;t.offsetWidth;i.current.scroll({left:n})},m=Object(r.useMemo)((function(){return Object(c.jsx)("div",{className:"grid-header-view",ref:i,style:{top:0,width:u.gridWidth-u.scrollbarWidth,height:u.cellHeight},children:Object(c.jsx)("div",{className:"grid-header-container",style:{width:f,height:u.cellHeight},children:Object(c.jsx)("div",{className:"header-row-container",style:{height:u.cellHeight,width:f},children:n.map((function(e,t){return Object(c.jsx)("div",{className:"header-cell",style:{width:u.cellWidth,left:u.cellWidth*t,height:u.cellHeight},children:e},"header-cell-".concat(t))}))})})})}),[n,u,f]),v=Object(r.useMemo)((function(){return Object(c.jsx)("div",{className:"grid-body-view",style:{top:u.cellHeight,width:u.gridWidth,height:u.gridHeight-u.cellHeight},ref:o,onScroll:j,children:Object(c.jsx)("div",{className:"grid-body-container",style:{height:u.cellHeight*t.length,width:f},children:t.map((function(e,t){return Object(c.jsx)("div",{className:"body-row-container",style:{top:u.cellHeight*t,height:u.cellHeight,width:f},children:n.map((function(n,r){return Object(c.jsx)("div",{className:"body-cell",style:{width:u.cellWidth,left:u.cellWidth*r,height:u.cellHeight},children:e[n]},"row-".concat(t,"-cell-").concat(r))}))},"row-".concat(t))}))})})}),[t,u,f]);return Object(c.jsxs)("div",{className:"grid-container",ref:a,children:[m,v]})},v=function(){var e=Object(r.useRef)(),t="";Object(r.useEffect)((function(){return function(){n(t)}}),[]);var n=function(e){var n=e.trim();""!==n&&(document.getElementById("search-area").innerHTML=document.getElementById("search-area").innerHTML.replace(new RegExp("<mark>"+n+"</mark>","g"),n),t="")},a=function(){!function(e){n(t);var c=e.trim();""!==c&&(document.getElementById("search-area").innerHTML=document.getElementById("search-area").innerHTML.replace(new RegExp(c,"g"),"<mark>"+c+"</mark>"),t=c)}(e.current.value)};return Object(c.jsxs)("div",{className:"pageSearch",children:[Object(c.jsx)("input",{ref:e,autoFocus:!0,onKeyDown:function(e){13===e.keyCode&&a()}}),Object(c.jsxs)("div",{className:"action-text",children:[Object(c.jsx)("span",{onClick:function(){e.current.value="",n(t)},children:"Clear"}),Object(c.jsx)("span",{onClick:a,children:"Search"})]})]})},g=function(){return Object(c.jsxs)("div",{className:"readme",children:[Object(c.jsx)("h2",{children:"Introduction"}),'A data grid is displayed below. The data grid you see here is not conventional table formed using the html table tag but build customly using div tags. You can filter the data in the grid using the typeahead search inputs available for each columns. The inputs are typeahead. You can select the values from the list. After selecting the filter text please click on search button and if you want to clear the filter params , please click on Clear button. If you click the search and click button the grid will be filtered. If you need to search the body of the webpage as a whole, you can try pressing "Shift + F". On key press "Shift + F" you will be able to see a search box at the bottom You can remove the search box from the view using "Escape" key press. After entering the search text , try pressing "Enter" or click on the search link in the search box. Additionally you have the "Clear" link to clear the search text. The highlighted text will appear in Yellow. This search is not a fool proof system. It will not work correctly if your searched text matches with html tag names, attribute name or attribute values. Apart from the edge case you can expect a good performance for most scenarios. If you have any queries, you know where to reach me.']})},O=n(9),p=["S.no","Name","Gender","Place","DOB"],x=[[],[],["Male","Female","Trans"],["Tamil Nadu","Karntaka","Madhya Pradesh","Andhra Pradesh","Kerala","Rajasthan"],[]],y=Object(O.a)(Array(100)).map((function(e,t){var n=t+1+"",c="User"+t,r="".concat(t%30,"/").concat(t%12,"/1994");return x[0].push(n),x[1].push(c),x[4].push(r),{"S.no":n,Name:c,Gender:x[2][t%x[2].length],Place:x[3][t%x[3].length],DOB:r}})),w=Object(r.forwardRef)((function(e,t){var n=Object(r.useState)(!1),a=Object(d.a)(n,2),i=a[0],o=a[1],s=Object(r.useState)(""),l=Object(d.a)(s,2),u=l[0],h=l[1],f=Object(r.useState)(-1),j=Object(d.a)(f,2),b=j[0],m=j[1];Object(r.useEffect)((function(){b>=0&&document.getElementById("drop-down-item"+b)&&document.getElementById("drop-down-item"+b).scrollIntoView(!1)}),[b]);var v=function(){h(""),o(!1),m(-1)},g=i&&""!==u?e.list.filter((function(e){return-1!==e.indexOf(u)})):[];return Object(c.jsx)("div",{className:"search-input-container",children:Object(c.jsxs)("div",{className:"search-input",children:[Object(c.jsx)("input",{ref:t,onChange:function(e){var t=e.target.value;h(t),o(!0),m(-1)},onKeyDown:function(e){38===e.keyCode&&b-1>=0&&m(b-1),40===e.keyCode&&b+1<=g.length-1&&m(b+1),13===e.keyCode&&(t.current.value=g[b],v())},onBlur:function(){return setTimeout(v,500)},placeholder:"Search for ".concat(e.column)}),g&&Object(c.jsx)("div",{className:"drop-down-container",children:g.map((function(e,n){return Object(c.jsx)("div",{id:"drop-down-item"+n,className:"".concat(n===b?"selected":""," "),onClick:function(){t.current.value=e,v()},children:e},"item"+n)}))})]})})})),k=function(e){var t=e.columns,n=e.uniqueValues,a=e.updateSearchParams,i=Object(r.useRef)(t.map((function(){return Object(r.createRef)()})));return Object(c.jsxs)("div",{className:"search",children:[Object(c.jsx)("h2",{children:"Search"}),Object(c.jsx)("div",{className:"search-container",children:t.map((function(e,t){return Object(c.jsx)(w,{ref:i.current[t],column:e,list:n[t]},"typeAhead"+t)}))}),Object(c.jsxs)("div",{className:"action-container",children:[Object(c.jsx)("button",{onClick:function(){var e={};i.current.map((function(n,c){var r=n.current.value.trim();""!==r&&(e[t[c]]=r)})),a(e)},children:"Search"}),Object(c.jsx)("button",{onClick:function(){i.current.map((function(e){return e.current.value=""})),a({})},children:"Clear"})]})]})},N=function(){var e=Object(r.useState)({username:"",emailId:""}),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([]),o=Object(d.a)(i,2),s=o[0],b=o[1],O=Object(r.useState)({}),w=Object(d.a)(O,2),N=w[0],S=w[1],C=Object(r.useState)(!1),E=Object(d.a)(C,2),H=E[0],W=E[1];Object(r.useEffect)((function(){fetch("/userinfo").then(function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.json();case 3:n=e.sent,200===t.status?a(n):I(n.msg),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),I();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){I(),console.log("Error",e)}))}),[]),Object(r.useEffect)((function(){b(y.filter((function(e){var t=0;for(var n in N){if(-1===e[n].indexOf(N[n]))break;t++}return t===Object.keys(N).length})))}),[N]);var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong";alert(e),h("/signin")};return Object(r.useEffect)((function(){var e=function(e){return e.shiftKey&&70===e.keyCode?setTimeout((function(){return W(!0)}),250):27===e.keyCode?W(!1):void 0};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(j,{auth:!0,user:n}),Object(c.jsxs)("div",{id:"search-area",children:[Object(c.jsx)(g,{}),Object(c.jsx)(k,{columns:p,uniqueValues:x,updateSearchParams:function(e){return S(e)}}),Object(c.jsx)("div",{className:"export",children:Object(c.jsx)("span",{onClick:function(){return f(p,s,"Export")},children:"Export"})}),Object(c.jsx)(m,{rows:s,columns:p}),Object(c.jsxs)("div",{className:"grid-count",children:[Object(c.jsx)("div",{children:"Filtered Data Count: ".concat(s.length)}),Object(c.jsx)("div",{children:"Total Data Count     : ".concat(y.length)})]})]}),Object(c.jsx)("div",{className:"footer",children:H&&Object(c.jsx)(v,{})})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root")),S()}},[[18,1,2]]]);
//# sourceMappingURL=main.aca42c28.chunk.js.map